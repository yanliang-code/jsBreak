##### 一、运行环境

1. 介绍
   - 浏览器可通过访问链接来得到页面的内容
   - 通过绘制和渲染，显示出页面的最终样子
   - 整个过程中，我们需要考虑什么问题？
2. 知识点
   - 页面加载过程
   - 性能优化
   - 安全性



##### 二、页面加载

1. 题目
   - 从输入 url 到得到 html 的详细过程
     - 输入 url 获取到 html 文件过程（参考知识点中第二个问题）
     - 解析 html 的过程（参考 chapter02\08运行环境 中三个示例）
   - window.onload 和 DOMContentLoaded 的区别（chapter02\08运行环境\03\03.html）
     - window.onload  页面的全部资源加载完才会执行，包括图片、视频等
       - 静态资源各大网站不同，比较耗时
     - DOMContentLoaded  DOM 渲染完即可执行，此时图片、视频还可能没有加载完
       - jquery 中使用此种方式判断页面是否加载完
2. 知识点
   - 加载资源的形式
     - 输入 url 或跳转页面加载 html
     - 加载 html 中的静态资源，比如：css、js、图片、字体等
   - 加载一个资源的过程（仅仅介绍加载静态资源）
     - 浏览器根据 DNS 服务器得到域名的对应 IP 地址
     - 向此 IP 的机器发送 http 请求
     - 服务器收到，处理并返回 http 请求
     - 浏览器得到返回内容
   - 浏览器渲染页面的过程
     - 根据 HTML 结构生成 DOM Tree
     - 根据 CSS 生成 CSSOM
     - 将 DOM 和 CSSOM 整合形成 RenderTree
     - 根据 RenderTree 开始渲染和展示
     - 遇到 script 时，会执行并阻塞渲染
       - 阻塞是由于 JS 可以改变 DOM 结构
       - 不阻塞，JS 修改正在渲染的 dom，浏览器无法得知到底渲染哪个

##### 三、性能优化

1. 原则
   - 多使用内存、缓存或其他方法
   - 减少 CPU 计算、减少网络请求、减少 IO 操作
2. 入手的方面
   - 加载页面和静态资源（加载资源方面）
     - 静态资源的合并、压缩
       - 合并 --- 减少 http 请求
       - 压缩 --- 降低文件大小
     - 静态资源缓存
       - 每次请求文件，本地缓存，第二访问相同文件，默认走缓存
       - 每次平台升级，若代码变动，html 中引入的 JS 脚本名要对应变化，否则还会走缓存
     - 使用 CDN 让资源加载更快
       - 分配就近的静态资源服务器
     - 使用 SSR 后端渲染，数据直接输出到 HTML 中
       - 现在 vue、react 都提出了这个概念
       - 不是用 ajax 请求，默认返回的 HTML 中就带着显示的数据
       - 其实 jsp、php、asp 都属于后端渲染
   - 页面渲染（页面操作后渲染方面优化）
     - CSS 放前面，JS 放后面
     - 懒加载（图片懒加载、下拉加载更多）
       - <img src="D:\coding\jsBreak\md\pic\08\2020-10-01_164420.png" alt="2020-10-01_164420" style="zoom:67%;" />
       - 默认使用一张图，当需要显示时，在 HTML 标签上获取正常图片路径，赋值给 src
     - 减少 DOM 查询，对 DOM 查询做缓存
       - <img src="D:\coding\jsBreak\md\pic\08\2020-10-01_164341.png" alt="2020-10-01_164341" style="zoom:67%;" />
       - 假如有十个 p 标签，未缓存的，每遍历一次，就需要遍历 dom 获取一遍 dom 集合
     - 减少 DOM 操作，多个操作尽量合并在一起执行
       - <img src="D:\coding\jsBreak\md\pic\08\2020-10-01_165014.png" alt="2020-10-01_165014" style="zoom: 67%;" />
       - 此种方式，会频繁执行 dom 插入，通过使用dom碎片的方式，让其只会触发一次
     - 事件节流
       - <img src="D:\coding\jsBreak\md\pic\08\2020-10-01_165457.png" alt="2020-10-01_165457" style="zoom: 67%;" />
       - 频繁触发时，只有最后一次会触发事件（也就减少事件的处理，处理若有计算处理，也就减少了CPU计算）
     - 尽早执行操作（如 DOMContentLoaded）
       - <img src="D:\coding\jsBreak\md\pic\08\2020-10-01_170028.png" alt="2020-10-01_170028" style="zoom:67%;" />



##### 四、安全性

1. 知识点
   - XSS 跨站请求攻击
     - 在新浪博客写一篇文章，文章中插入 一个 script 脚本
     - 脚本中的代码是，获取当前浏览器中的 cookie 信息，发送到攻击者指定的服务器上
     - 发布博客，当有用户查看此博客时
     - script 脚本就会自动执行，会将查看者的 cookie 信息发送到攻击者指定的服务器上
     - 原理
       - 向网站提交信息时，可以提交 JS 脚本，有页面可以预览提交的内容，间接执行 JS 脚本
     - 解决方法
       - 前端替换关键词，例如替换 < 为 &lt；> 为 &gt；
       - 后端替换更好，前端使用浏览器执行，客户端的配置参差不齐；后端服务器我们可以自由提升配置，性能耗费较大的后端实现较好
   - XSRF 跨站请求伪造
     - 你登陆一个购物网站，正在浏览商品
     - 该网站的付费接口是 xxx.com/pay?id=100，但是没有任何验证
     - 此时来了一份邮件，隐藏着 img 标签，src 为 xxx.com/pay?id=100
     - 当你打开此邮件时，就已经悄悄付费购买了
     - 解决方法
       - 增加验证流程，如输入指纹、密码、短信验证码

##### 五、面试技巧

1. 简历
   - 简洁明了，重点突出项目经历和解决方案
   - 把个人博客放在简历中，并且定期维护更新博客
   - 把个人开源项目放在简历中，并维护开源项目（小工具也可以）
   - 简历不要造假，要保持能力和经历上的真实性
2. 面试过程中
   - 如何看待加班？  加班就像借钱，救急不救穷
     - 突发的项目，加半个月、一个月就能解决的（可以接受）
     - 规划项目时，本来需要一个星期的，改为5天，默认把加班算到里面（不可接受）
     - 长期加班
       - 个人状态不好调整
       - 无法业余提升，一般工作中是无法提升基础能力的
   - 千万不可挑战面试官，不要反考面试官
     - 说的不对，就嗯哈就行了
   - 学会给面试官惊喜，但不要太多
     - 惊喜：一个问题回答完，但是此问题内牵扯另一个问题，可以简单说一下延展出的那个问题
     - 不要太多，太多就有点嘲讽面试官的能力了
   - 遇到不会回答的问题，说出你知道的也可以
   - 谈谈你的缺点---》说一下你最近正在学什么就可以了
     - 对什么不熟悉，正在通过什么学习，再过多长时间，就能达到什么情况了

